
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>IIIT-BH Student Management System</title>
  <link rel="icon" type="image/png" sizes="512x512" href="/iiit_logo_fevicon.png">
    <link rel="stylesheet" href="d_grievance.css">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

<header class="mobile-header">
    <button id="menuToggle"><i class="fas fa-bars"></i></button>
    <h2>Grievance Management</h2>
</header>

<div class="container">
    <aside class="sidebar" id="sidebar">
        <a href="d_home.html" class="back-btn-sidebar">
            <i class="fas fa-arrow-left"></i> Back to Dashboard
        </a>
         <nav class="nav-options">
  <a href="d_notice.html" class="side-btn"><i class="fas fa-bullhorn"></i> Notice Board</a>
  <a href="d_student.html" class="side-btn"><i class="fas fa-user-graduate"></i> Student Details</a>
  <a href="d_faculty.html" class="side-btn"><i class="fas fa-chalkboard-teacher"></i> Faculty Details</a>
  <a href="d_timetable.html" class="side-btn"><i class="fas fa-calendar-alt"></i> Timetable</a>
  <a href="d_grievance.html" class="side-btn"><i class="fas fa-comment-alt"></i> Grievance</a>
    </nav>
        <div class="logo-container">
            <img src="IIIT LOGO 3.svg" alt="IIIT Logo" class="logo"/>
            <p class="footer-text">IIIT Student Management System</p>
            <a href="https://www.iiit-bh.ac.in" class="footer-link" target="_blank">www.iiit-bh.ac.in</a>
        </div>
    </aside>

    <main class="main-content">
        <div class="header-line">
            <h1><i class="fas fa-comment-alt"></i> Grievance Management</h1>
            <hr />
        </div>

        <div class="grievance-section">
            <div class="search-container">
                <div class="status-filter-wrapper">
                    <select id="searchStatus">
                        <option value="">All Status</option>
                        <option value="Pending">Pending</option>
                        <option value="Resolved">Resolved</option>
                        <option value="Forwarded">Forwarded</option>
                    </select>
                    <button onclick="searchGrievance()">Search</button>
                </div>
            </div>

            <div class="grievance-list" id="grievanceList">
                <!-- Grievance items will be added here dynamically -->
            </div>
            <p id="noGrievanceMessage">No grievances found.</p>
        </div>
    </main>
</div>

<div class="popup-overlay" id="popupOverlay"></div>
<div class="grievance-popup" id="grievancePopup">
    <div class="popup-header">
        <h3 id="popupTitle">Grievance Details</h3>
        <span class="status-badge" id="popupStatus">Pending</span>
    </div>
    <div class="grievance-info-grid">
        <div class="info-row">
            <span class="label">Grievance ID</span>
            <span class="value" id="popupID"></span>
        </div>
        <div class="info-row">
            <span class="label">From</span>
            <span class="value" id="popupFrom"></span>
        </div>
        <div class="info-row">
            <span class="label">To</span>
            <span class="value" id="popupTo"></span>
        </div>
        <div class="info-row" id="forwardedFromRow" style="display: none;">
            <span class="label">Forwarded to Dean</span>
            <span class="value" id="popupForwardedFrom"></span>
        </div>
        <div class="info-row" id="forwardingChainRow" style="display: none;">
            <span class="label">Forwarding Chain</span>
            <div class="forwarding-chain" id="forwardingChain">
                <!-- Forwarding chain will be populated here -->
            </div>
        </div>
        <div class="info-row">
            <span class="label">Date & Time</span>
            <span class="value" id="popupDateTime"></span>
        </div>
        <div class="info-row full-width">
            <span class="label">Subject</span>
            <span class="value" id="popupSubject"></span>
        </div>
        <div class="info-row full-width">
            <span class="label">Description</span>
            <span class="value" id="popupDescription"></span>
        </div>
        <!-- <div class="info-row full-width" id="resolutionRow">
            <span class="label">Resolution</span>
            <textarea id="resolutionText" placeholder="Enter resolution details..."></textarea>
        </div> -->
        <div class="info-row full-width" id="forwardChainActionRow">
            <div class="forward-chain-action" id="forwardChainAction">
                <button class="forward-chain-btn" id="forwardChainBtn">
                    Forward To <span class="dropdown-arrow">â–¼</span>
                </button>
               <div class="forward-chain-dropdown" id="forwardChainDropdown">
    <select id="forwardTo" class="forward-to-select">
        <option value="">Select official</option>
    </select>
              </div>

                <div class="forward-reason-section" id="forwardReasonSection" style="display:none;">
                    <textarea id="forwardChainReason" placeholder="Reason for forwarding..." class="forward-reason"></textarea>
                    <button class="forward-btn" id="forwardChainConfirmBtn">Confirm Forward</button>
                </div>
            </div>
        </div>
    </div>
    <div class="popup-actions">
        <button class="close-btn-red" onclick="closePopup()">Close</button>
        <button class="resolve-btn" onclick="resolveGrievance()">Resolve</button>
    </div>
</div>

<script src="d_grievance.js"></script>
</body>
</html> 